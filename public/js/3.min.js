webpackJsonp([3,6,7],{"./components/photos recursive ^\\.\\/.*\\.controller$":function(t,e,o){function a(t){return o(n(t))}function n(t){var e=s[t];if(!(e+1))throw new Error("Cannot find module '"+t+"'.");return e}var s={"./photos.controller":"./components/photos/photos.controller.js"};a.keys=function(){return Object.keys(s)},a.resolve=n,t.exports=a,a.id="./components/photos recursive ^\\.\\/.*\\.controller$"},"./components/photos recursive ^\\.\\/.*\\.data\\.service$":function(t,e,o){function a(t){return o(n(t))}function n(t){var e=s[t];if(!(e+1))throw new Error("Cannot find module '"+t+"'.");return e}var s={"./photos.data.service":"./components/photos/photos.data.service.js"};a.keys=function(){return Object.keys(s)},a.resolve=n,t.exports=a,a.id="./components/photos recursive ^\\.\\/.*\\.data\\.service$"},"./components/photos recursive ^\\.\\/.*\\.html$":function(t,e,o){function a(t){return o(n(t))}function n(t){var e=s[t];if(!(e+1))throw new Error("Cannot find module '"+t+"'.");return e}var s={"./photos.html":"./components/photos/photos.html"};a.keys=function(){return Object.keys(s)},a.resolve=n,t.exports=a,a.id="./components/photos recursive ^\\.\\/.*\\.html$"},"./components/photos/photos.controller.js":function(t,e,o){"use strict";function a(t){function e(){o.photoList=o.photos.photos.photo,o.lastPageNum=parseInt(o.photos.photos.pages,10);for(var t=-2;t<=2;t++){var e=o.pageNum+t;e>0&&e<=o.lastPageNum&&o.pagination.push({itemNum:e,active:e===o.pageNum})}}var o=this;o.tag=t.tag,o.userId=t.userId,o.pageNum=parseInt(t.pageNum,10),o.pagination=[],o.$onInit=e}t.exports=a,a.$inject=["$stateParams"]},"./components/photos/photos.data.service.js":function(t,e,o){"use strict";function a(t){return{getAll:function(e,o,a){var n=["https://api.flickr.com/services/rest/","?method=flickr.photos.search","&api_key=c4dbaa5493285b2a07f9b19771f46a25","&tags="+e,"&sort=interestingness-desc","&format=json","&per_page=10","&page="+a];return o&&"anyuser"!==o&&n.push("&user_id="+o),t.get(n.join("")).then(function(t){var e=t.data.split("");return e.pop(),e=e.join(""),e=e.replace("jsonFlickrApi(",""),e=JSON.parse(e)})}}}angular.module("app.photos").factory("photosDataService",["$http",a])},"./components/photos/photos.html":function(t,e){t.exports='<div class=container> <div class=column-xs-12> <h1>All photos</h1> <div class=row> <div class=col-md-6 ng-repeat="photo in vm.photoList track by $index"> <div class="alert alert-info"> <img ng-src=https://farm{{photo.farm}}.staticflickr.com/{{photo.server}}/{{photo.id}}_{{photo.secret}}.jpg> </div> </div> </div> <nav class=pagination-nav aria-label="Page navigation"> <ul class=pagination> <li> <a ui-sref="photos({\n\t\t\t\t\t\t\ttag: vm.tag,\n\t\t\t\t\t\t\tuserId: vm.userId || \'anyuser\',\n\t\t\t\t\t\t\tpageNum: 1\n\t\t\t\t\t\t})" aria-label=First> <span aria-hidden=true>&laquo;</span> </a> </li> <li> <a ui-sref="photos({\n\t\t\t\t\t\t\ttag: vm.tag,\n\t\t\t\t\t\t\tuserId: vm.userId || \'anyuser\',\n\t\t\t\t\t\t\tpageNum: vm.pageNum - 1 || 1\n\t\t\t\t\t\t})" aria-label=Previous> <span aria-hidden=true>previous</span> </a> </li> <li ng-repeat="item in vm.pagination track by $index" ng-class="{active: item.active}"> <a ui-sref="photos({\n\t\t\t\t\t\t\ttag: vm.tag,\n\t\t\t\t\t\t\tuserId: vm.userId  || \'anyuser\',\n\t\t\t\t\t\t\tpageNum: item.itemNum\n\t\t\t\t\t\t})" aria-label=Next> <span>{{item.itemNum}}</span> </a> </li> <li> <a ui-sref="photos({\n\t\t\t\t\t\t\ttag: vm.tag,\n\t\t\t\t\t\t\tuserId: vm.userId  || \'anyuser\',\n\t\t\t\t\t\t\tpageNum: vm.pageNum + 1\n\t\t\t\t\t\t})" aria-label=Next> <span aria-hidden=true>next</span> </a> </li> <li> <a ui-sref="photos({\n\t\t\t\t\t\t\ttag: vm.tag,\n\t\t\t\t\t\t\tuserId: vm.userId  || \'anyuser\',\n\t\t\t\t\t\t\tpageNum: vm.lastPageNum\n\t\t\t\t\t\t})" aria-label=Last> <span aria-hidden=true>&raquo;</span> </a> </li> </ul> </nav> </div> </div>'},"./components/photos/photos.test.js":function(t,e,o){"use strict";var a=o("./components/main/js/main.helper.js"),n=function(t){return t&&t.__esModule?t:{default:t}}(a),s="photos",r=o("./components/photos recursive ^\\.\\/.*\\.html$")("./photos.html"),i=o("./components/photos recursive ^\\.\\/.*\\.controller$")("./photos.controller");describe(s+" component",function(){it("should have valid template",function(){chai.assert(r)}),it("should have valid controller",function(){chai.assert(i),chai.expect(i).to.be.a("function")}),it("should set photosDataService",function(){n.default.setModule({moduleName:"app.photos"});var t=sinon.spy(angular.module("app.photos"),"factory");o("./components/photos recursive ^\\.\\/.*\\.data\\.service$")("./photos.data.service");var e=t.firstCall.args,a=e[1].length-1;chai.assert(e[0]===s+"DataService"),chai.expect(e[1]).to.be.a("array"),chai.expect(e[1][a]).to.be.a("function"),angular.module("app.photos").factory.restore()}),it("should request photos data by tag and page",function(t){angular.mock.module("app.photos"),angular.mock.inject(["$injector",s+"DataService",function(e,o){chai.expect(o).to.be.a("object"),chai.expect(o.getAll).to.be.a("function");var a=e.get("$httpBackend"),n=["https://api.flickr.com/services/rest/","?method=flickr.photos.search","&api_key=84a09d680272ffb49a9a9583e09807c9","&tags=elephant","&sort=interestingness-desc","&format=json","&per_page=10","&page=1"],s=void 0;n=n.join(""),a.when("GET",n).respond("jsonFlickrApi({})"),a.expectGET(n),s=o.getAll("elephant","anyuser",1),s.then(function(e){chai.expect(e).to.be.a("object"),t()}),a.flush()}])})})}});